"use strict";angular.module("chowSauceApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/map",{templateUrl:"views/map.html",controller:"MapCtrl",controllerAs:"map"}).otherwise({redirectTo:"/"})}]),angular.module("chowSauceApp").controller("MainCtrl",["$scope",function(a){a.header="Welcome!",a.subheader="What kind of food would you like to eat?",a.foods=[{name:"pizza",emoji:"üçï",redirect:"/#!/map?type=pizza"},{name:"burger",emoji:"üçî",redirect:"/#!/map?type=burger"},{name:"taco",emoji:"üåÆ",redirect:"/#!/map?type=taco"},{name:"burrito",emoji:"üåØ",redirect:"/#!/map?type=burrito"},{name:"sushi",emoji:"üç£",redirect:"/#!/map?type=sushi"},{name:"icecream",emoji:"üç¶",redirect:"/#!/map?type=icecream"},{name:"donut",emoji:"üç©",redirect:"/#!/map?type=donut"},{name:"bar",emoji:"üç∏",redirect:"/#!/map?type=bar"},{name:"indian",emoji:"üçõ",redirect:"/#!/map?type=indian"},{name:"noodles",emoji:"üçú",redirect:"/#!/map?type=noodles"},{name:"coffee",emoji:"‚òïÔ∏è",redirect:"/#!/map?type=coffee"}]}]),angular.module("chowSauceApp").controller("MapCtrl",["$scope",function(a){console.log(a),a.restraunts=[{name:"jimmy johns"},{name:"heav buf"}]}]),angular.module("chowSauceApp").run(["$templateCache",function(a){a.put("views/main.html",'<body ng-controller="MainCtrl"> <div class="container-fluid"> <h1 class="text-center" ng-bind="header"></h1> <h3 class="text-center" ng-bind="subheader"></h3> <div class="row"> <div ng-repeat="food in foods" class="col-xs-6 col-md-3"> <a href="{{food.redirect}}" class="thumbnail text-center"> <span class="emoji-holder text-center">{{food.emoji}}</span> </a> </div> </div> </div> <style media="screen">.emoji-holder {\n      font-size: 6em;\n    }\n\n    body div .jumbotron {\n      background-color: red;\n      border-radius: .25em;\n      width: 15em;\n    }</style> </body>'),a.put("views/map.html",'<body> <div class="container-fluid map-container"> <div class="sidebar" id="sidebar"> <h1 id="forceblack">Restraunts</h1> <div id="listings" class="listings"></div> <script type="text/javascript">pathArray = location.href.split(\'/\');\n        protocol = pathArray[0];\n        host = pathArray[2];\n        url = protocol + \'//\' + host;\n        post_url = url + "/yelp"\n        console.log("Current url: " + url);\n        console.log("making post request to: " + post_url);\n\n\n        $.ajax({\n          type: \'POST\',\n          data: {\n            "food_type": getParameterByName(\'type\', window.location.href),\n            "geolocation": false,\n            "long": -1,\n            "lat": -1,\n            "radius": 1000,\n            "limit": 10\n          },\n          success: function(response) {\n            DOMUpdate(response);\n          },\n          error: function(xhr) {\n            console.log("Failure");\n            console.log(xhr)\n          },\n          url: post_url\n        });\n\n        function DOMUpdate(response) {\n          console.log(response);\n\n          var listings = document.getElementById(\'listings\');\n          for (i = 0; i < response.length; i++) {\n\n            var name = response[i].name;\n            var listing = listings.appendChild(document.createElement(\'div\'));\n            listing.className = \'item\';\n            listing.id = \'listing-\' + i;\n            var details = listing.appendChild(document.createElement(\'div\'));\n            details.innerHTML = name;\n          }\n\n        }\n\n\n        function getParameterByName(name, url) {\n          if (!url) {\n            url = window.location.href;\n          }\n          name = name.replace(/[\\[\\]]/g, "\\\\$&");\n          var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),\n            results = regex.exec(url);\n          if (!results) return null;\n          if (!results[2]) return \'\';\n          return decodeURIComponent(results[2].replace(/\\+/g, " "));\n        }</script> </div> <div id="map" class="map"></div> </div> <style media="screen">#listings .listings {\n      margin-right: 3em;\n    }\n\n    body {\n      font: 500 20px/26px \'Helvetica Neue\', Helvetica, Arial, Sans-serif;\n      margin: 0;\n      padding: 0;\n      -webkit-font-smoothing: antialiased;\n    }\n    /* The page is split between map and sidebar - the sidebar gets 1/3, map\n  gets 2/3 of the page. You can adjust this to your personal liking. */\n\n    #forceblack {\n      color: #333;\n    }\n\n    .sidebar {\n      position: absolute;\n      width: 33.3333%;\n      height: 100%;\n      top: 0;\n      left: 0;\n      overflow: hidden;\n      border-right: 1px solid rgba(0, 0, 0, 0.25);\n    }\n\n    .listings {\n      height: 100%;\n      overflow: auto;\n      padding-bottom: 60px;\n    }\n\n    .listings .item {\n      display: block;\n      border-bottom: 1px solid #eee;\n      padding: 10px;\n      text-decoration: none;\n    }\n\n    .listings .item:last-child {\n      border-bottom: none;\n    }\n\n    .listings .item .title {\n      display: block;\n      color: #00853e;\n      font-weight: 700;\n    }\n\n    .listings .item .title small {\n      font-weight: 400;\n    }\n\n    .listings .item.active .title,\n    .listings .item .title:hover {\n      color: #8cc63f;\n    }\n\n    .listings .item.active {\n      background-color: #f8f8f8;\n    }\n\n     ::-webkit-scrollbar {\n      width: 3px;\n      height: 3px;\n      border-left: 0;\n      background: rgba(0, 0, 0, 0.1);\n    }\n\n     ::-webkit-scrollbar-track {\n      background: none;\n    }\n\n     ::-webkit-scrollbar-thumb {\n      background: #00853e;\n      border-radius: 0;\n    }\n\n    .map {\n      border-left: 1px solid #fff;\n      position: absolute;\n      left: 33.3333%;\n      width: 66.6666%;\n      top: 0;\n      bottom: 0;\n    }</style> <script type="text/javascript">mapboxgl.accessToken = \'pk.eyJ1IjoiamVyZW15c21vcmdhbiIsImEiOiJjaWxjemtvYWEzejR4dHlseGlkaGZmb2t5In0.BOYaLR5RW0tbUPTFuz5Y0g\';\n    // This adds the map to your page\n    var map = new mapboxgl.Map({\n      // container id specified in the HTML\n      container: \'map\',\n      // style URL\n      style: \'mapbox://styles/jeremysmorgan/cixxc3h1i00232rqjeeagcb2l\',\n      // initial position in [long, lat] format\n      center: [-78.914056, 36.005626],\n      // initial zoom\n      zoom: 13\n    });\n\n\n    var currentLayer = {\n      id: "restraunts",\n      type: ""\n    }\n\n\n    map.on(\'load\', function(e) {\n      // Add the data to your map as a layer\n      map.addLayer({\n\n        "id": "points",\n        "type": "symbol",\n        "source": {\n          "type": "geojson",\n          "data": {\n            "type": "FeatureCollection",\n            "features": [{\n              "type": "Feature",\n              "geometry": {\n                "type": "Point",\n                "coordinates": [-78.914056, 36.005626]\n              },\n              "properties": {\n                "title": "Mapbox DC üçï",\n                "icon": "monument"\n              }\n            }, {\n              "type": "Feature",\n              "geometry": {\n                "type": "Point",\n                "coordinates": [-122.414, 37.776]\n              },\n              "properties": {\n                "title": "Mapbox SF",\n                "icon": "harbor"\n              }\n            }]\n          }\n        },\n        "layout": {\n          "icon-image": "{icon}-15",\n          "text-field": "{title}",\n          "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],\n          "text-offset": [0, 0.6],\n          "text-anchor": "top"\n        }\n      });\n    });</script> </body>')}]);